import { Plugin } from 'vite';
import { ZlibOptions } from 'zlib';

type AnalyzerMode = 'static' | 'json' | 'server';
interface BasicAnalyzerPluginOptions {
    summary?: boolean;
    analyzerMode?: AnalyzerMode;
    reportTitle?: string;
    gzipOptions?: ZlibOptions;
}
interface AnalyzerPluginOptionsWithServer extends BasicAnalyzerPluginOptions {
    analyzerMode: 'server';
    analyzerPort?: number | 'atuo';
    openAnalyzer?: boolean;
}
interface AnalyzerPluginOptionsWithStatic extends BasicAnalyzerPluginOptions {
    analyzerMode: 'static' | 'json';
    fileName?: string;
}
type AnalyzerPluginOptions = AnalyzerPluginOptionsWithServer | AnalyzerPluginOptionsWithStatic;

declare function analyzer(opts?: AnalyzerPluginOptions): Plugin;

export { AnalyzerPluginOptions, analyzer, analyzer as default };
